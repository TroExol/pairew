# Pairew

Cервис для подбора просмотра фильмов в компании.

## Функциональные требования
1. Авторизация и онбординг
Вход в приложение через OAuth (Supabase Auth).
При первом заходе пользователь указывает свои предпочтения:
Жанры, любимые актеры, режиссеры, страны, года.

2. Создание и подключение к комнате
Пользователь может создать комнату (с генерацией уникального идентификатора).
По этому идентификатору другие пользователи могут подключиться к комнате.
В комнате отображается список всех участников.

3. Выбор фильмов
На основе предпочтений участников комнаты генерируется общий список фильмов (API популярных баз: TMDB).
Фильмы показываются в виде свайп-карт (аналог Tinder):
Свайп вправо — нравится, влево — не нравится.
Количество свайпов ограничено (например, после 20 свайпов показывается результат).

4. Результаты
Пересечения: фильмы, которые понравились всем/большинству участников — показывать сверху.
Под спойлером — фильмы, которые были интересны только отдельным пользователям.
В отдельной секции — фильмы, которые не совпали вообще.

5. Повторный подбор
Возможность запустить новый подбор в той же комнате.

6. Сохранение истории
Список ранее созданных комнат с результатами.

В любой момент можно пропустить этап или перейти позже в раздел “Настройки/preferences” для заполнения.
UX — максимально лёгкий, без длинных форм, с возможностью “Сделать потом”.

## Нефункциональные требования
- Скорость отклика приложения — мгновенная навигация (SSR/ISR с Next.js).
- Поддержка мобильных и десктопных устройств.
- Валидация пользовательских данных.
- Безопасность: приватность результатов, никто не может подключиться без кода комнаты.
- Локализация: поддержка русского (использование i18n на будущее).

## UX-flow

### Онбординг

1. Экран приветствия / "Начнём с твоих вкусов!"
Краткий текст:
“Чтобы предложения по фильмам были релевантнее, расскажи немного о своих интересах”
Одна кнопка: "Заполнить предпочтения"

2. (Опционально) Выбор жанров (мультиселект)
Заголовок: “Какие жанры тебе нравятся?”

Блок с чипами/кнопками:
Жанры (по API)
Кнопка “Пропустить жанры”

3. (Опционально) Любимые актеры и режиссёры
Заголовок: “Есть любимые актеры или режиссеры?”

Инпут с автозаполнением (по TMDB).
Можно добавить несколько или пропустить.

4. (Опционально) Годы выпуска
Диапазон:
С (год) — По (год)
Кнопка: “Пропустить”

5. Кнопка завершения
"Готово! Начать подбор"

После нажатия предпочтения сохраняются в Supabase.
Редирект на создание/вход в комнату.

### Выбор фильмов

1. Экран входа/создания комнаты
Поле ввода кода комнаты
Кнопка «Войти» или «Создать комнату»
После создания — отображается уникальный код для приглашения других участников
Кнопка «Скопировать код»/«Отправить ссылку»

2. Лобби комнаты (ожидание участников)
Список участников (аватар/никнейм)
Прогрессбар ожидания — показывает, кто уже присоединился, сколько человек ещё ждём (например, требуется от 2 до N участников)
Кнопка «Начать подбор» — становится активной, когда в комнате минимум два человека

3. Экран совместного выбора (основной процесс свайпа фильмов)
Фильм-карточка на всю ширину: название, постер, жанры, год, краткое описание
Свайп влево/вправо (или кнопки “❤️” — нравится, “❌” — не нравится)
Прогрессбар (сколько фильмов осталось выбрать; например, 15 из 20)
Кнопка «Пропустить» (если не хочется ни лайкать, ни дизлайкать)
После свайпа — анимированное перемещение карточки и переход к следующей
Кнопка «Завершить выбор», если участник решил не листать дальше

4. Ожидание результатов
Когда все участники закончили свайпать — показывается спиннер/загрузка
Краткая анимация ("компания выбирает фильм...")

5. Экран результатов
Верхняя часть:
Крупный блок с фильмами, которые совпали у всех (или у большинства)
Отображается список лучших пересечений с постерами, рейтингом (“Совпало у 3 из 3!”)
Кнопка «Смотреть подробности» — открывает модалку с описанием, трейлером

Ниже — список фильмов с пересечениями частично
Под спойлером/аккордеоном (“Совпало у кого-то, но не у всех”); видно, кому конкретно понравился фильм

В самом конце:
“Фильмы, которые не совпали ни у кого” — мелкий список, можно свернуть
Кнопка:
«Создать новый раунд выбора» — чтобы перезапустить подбор

Результаты сохраняются в базу данных supabase

6. Повторный цикл / Выход из комнаты
Кнопки «Начать заново» или «Выйти из комнаты»

Возможность скопировать результаты (например, поделиться ссылкой с итогами подборки)

Мелкие детали
Toast-уведомления (“Хороший выбор!”, “У вас совпадение!”)

Если участник вышел из комнаты — уведомление остальным

## Дизайн-система

### Архитектура
Frontend:
React + Next.js (SSR, маршрутизация, API Routes)
Tailwind CSS + shadcn/ui + Lucide (быстрый UI, переиспользуемые компоненты, тематизация)
TypeScript (типизация, безопасность)

Backend/BaaS:
Next.js
Supabase (Auth, база данных)
Интеграция с внешним API (TMDB)

Линтинг eslint
Node.js 22.15.0

### Адаптивность
Mobile First (320px-768px)
Desktop (1200px+)
Используй Tailwind breakpoints для адаптации

### Пример структуры приложения
/ (онбординг/авторизация)
/preferences (сбор предпочтений)
/room/[roomId] (комната: участники, процесс свайпа)
/results/[roomId] (результаты голосования)
/history (список прошлых комнат/подборов)